<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Loading Plan PDF Generator</title>
  <style>
    body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif; margin: 0; background:#f6f7f9; }
    .wrap { max-width: 780px; margin: 40px auto; padding: 0 16px; }
    .card { background:#fff; border-radius: 14px; padding: 22px; box-shadow: 0 8px 28px rgba(0,0,0,.08); }
    .header { display:flex; align-items:center; justify-content:space-between; gap: 12px; margin-bottom: 14px; }
    h1 { margin: 0; font-size: 22px; }
    .logo { height: 36px; width: auto; }
    p { margin: 0 0 18px; color:#444; }
    .grid { display:grid; grid-template-columns: 1fr 1fr; gap: 14px; }
    label { display:block; font-size: 12px; color:#666; margin-bottom: 6px; letter-spacing: .02em; }
    input, select { width: 100%; padding: 12px; border:1px solid #dcdfe4; border-radius: 10px; font-size: 14px; }
    .full { grid-column: 1 / -1; }
    button { width: 100%; padding: 12px; border:0; border-radius: 12px; font-size: 15px; cursor: pointer; }
    button { background:#111827; color:#fff; opacity: .5; }
    button.enabled { opacity: 1; }
    .hint { margin-top: 10px; font-size: 12px; color:#666; }
    .req { color:#b91c1c; }
    .warn { font-size: 12px; color:#b91c1c; margin-top: 8px; display:none; }
    .row { display:flex; gap: 12px; align-items:center; }
    .check { display:flex; align-items:center; gap: 10px; padding: 12px; border:1px solid #dcdfe4; border-radius: 12px; background:#fbfbfc; }
    .check input[type="checkbox"] { width: 18px; height: 18px; }
    .mono { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <div class="header">
        <div>
          <h1>Loading Plan â†’ PDF</h1>
          <div style="margin-top:6px; color:#444;">Fill out the form and download the PDF.</div>
        </div>
        <img class="logo" src="/static/logo.png" alt="Akansu Logo" />
      </div>

      <form id="form" action="/generate" method="post">
        <div class="grid">
          <div class="full">
            <label>CUSTOMER NAME <span class="req">*</span></label>
            <input name="customer_name" placeholder="e.g., ABC Construction" required />
          </div>

          <div>
            <label>QUEUE NO <span class="req">*</span></label>
            <input name="queue_no" placeholder="e.g., 2026-10" required />
          </div>

          <div>
            <label>PRODUCT TYPE <span class="req">*</span></label>
            <input name="product_type" placeholder="e.g., PE100 Pipe / Fittings / etc." required />
          </div>

          <div>
            <label>LOADING DATE <span class="req">*</span></label>
            <input type="date" name="load_date" required />
          </div>

          <div>
            <label>LOADING TIME <span class="req">*</span></label>
            <select name="time_slot" required>
              <option value="" selected disabled>Select a time slot</option>
              <option value="08:00-12:00">08:00-12:00</option>
              <option value="13:00-16:00">13:00-16:00</option>
            </select>
          </div>

          <div class="full">
            <label>PDF ACCESS <span class="req">*</span></label>
            <div class="check">
              <input id="agree" type="checkbox" />
              <div style="flex:1;">
                Access Code:
              </div>
              <input id="password" name="password" placeholder="Access code" autocomplete="off" />
            </div>
            <div id="warn" class="warn">Enter the correct access code and tick the checkbox to continue.</div>
          </div>

          <div class="full">
            <button id="btn" type="submit" disabled>Generate & Download PDF</button>
            <div class="hint">The PDF will be downloaded automatically.</div>
          </div>
        </div>
      </form>
    </div>
  </div>

<script>
  const btn = document.getElementById('btn');
  const pwd = document.getElementById('password');
  const agree = document.getElementById('agree');
  const warn = document.getElementById('warn');
  const REQUIRED = 'akansu';

  function update() {
    const ok = agree.checked && (pwd.value || '').trim() === REQUIRED;
    btn.disabled = !ok;
    btn.classList.toggle('enabled', ok);
    warn.style.display = ok ? 'none' : 'block';
    if (!ok) btn.style.opacity = '0.5';
  }

  pwd.addEventListener('input', update);
  agree.addEventListener('change', update);
  update();
</script>
</body>
</html>
